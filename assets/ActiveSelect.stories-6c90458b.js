import{q as w,w as M,l as b,H as i,s as z,x as u,I as R,v as q}from"./vue.esm-bundler-a0839515.js";import{d as A}from"./pinia-8844c19c.js";import{g as V,a as W}from"./_commonjsHelpers-23102255.js";import{c as $}from"./_commonjs-dynamic-modules-302442b1.js";import{A as v}from"./IconSvg-588b4cf3.js";import j from"./ArrowLeft-4f9586ad.js";import k from"./ArrowLeftEnd-fedbc238.js";import L from"./ArrowRightEnd-9c2ccc5e.js";import O from"./ArrowRight-58e50d48.js";import{I as G}from"./InputSelect-492356b5.js";import{a as H}from"./apiManager-9893dc12.js";import{_ as U}from"./_plugin-vue_export-helper-c27b6911.js";var h={exports:{}};const J={},K=Object.freeze(Object.defineProperty({__proto__:null,default:J},Symbol.toStringTag,{value:"Module"})),Q=V(K);var I=typeof process<"u"&&process.pid?process.pid.toString(36):"",E="";if(typeof __webpack_require__!="function"&&typeof $<"u"){var P="",y=Q;if(y.networkInterfaces)var _=y.networkInterfaces();if(_){e:for(let e in _){const t=_[e],o=t.length;for(var m=0;m<o;m++)if(t[m]!==void 0&&t[m].mac&&t[m].mac!="00:00:00:00:00:00"){P=t[m].mac;break e}}E=P?parseInt(P.replace(/\:|\D+/gi,"")).toString(36):""}}h.exports=h.exports.default=function(e,t){return(e||"")+E+I+S().toString(36)+(t||"")};h.exports.process=function(e,t){return(e||"")+I+S().toString(36)+(t||"")};h.exports.time=function(e,t){return(e||"")+S().toString(36)+(t||"")};function S(){var e=Date.now(),t=S.last||e;return S.last=e>t?e:t+1}var X=h.exports;const Y=W(X),g=A({id:"WireFrameDocumenStore",state:()=>({document:{id:"1",pages:[],name:"Active Document",properties:{backgroundColor:"#ffffff",width:210,height:290,measurementUnit:"mm"},styles:[]},elements:{},styles:[]}),getters:{getCurrentPage:e=>()=>{const o=p().actualPage;return e.document.pages.find(a=>o===a.name)},getElementById:e=>t=>{var n;const o=t.split("|"),a=o[0],s=o[1];let l=(n=e.elements[s])==null?void 0:n.find(r=>r.id==a);return l||(l=p().notes.find(d=>d.id==t)),l},getElement:e=>t=>{const a=p().actualPage;return e.elements[a].find(s=>s.id==t)},currentTarget:e=>{const t=p();return()=>{if(t.targets.length!=0)return e.elements[t.actualPage].find(o=>{var a;return o.id==((a=t.targets[0])==null?void 0:a.id)})}}},actions:{updateWireFrameDocument(e){this.styles=e.styles,this.document=e,p().goToFirstPage(),e.pages.forEach(o=>{o.elements&&(this.elements[o.name]=o.elements)})},addBlock(e,t){e.properties=e.properties??{},e.id=e.id.toString(),e.type=e.type.toUpperCase();const o=this.document.pages.find(a=>a.name==t);o&&(o.elements===void 0&&(o.elements=[]),o.elements=[...o.elements,e],this.addElement(e,t))},addPage(e){const t=p();e.pagePosition||(e.pagePosition=this.document.pages.reduce((a,s)=>Math.max(a,s.pagePosition),0)+1,e.name=e.pagePosition.toString());let o=[];e.elements!=null&&(o=e.elements),this.elements[e.name]=[],o.forEach(a=>{this.addElement(a,e.name)}),this.document.pages.push(e),t.actualPage=e.name},addElement(e,t){e.properties=e.properties??{},e.size=e.size??{},e.id=e.id.toString(),this.elements[t].push(e)},removeBlock(e){const o=p().actualPage,a=this.document.pages.find(s=>o===s.name);a.elements=a.elements.filter(s=>e.id!==s.id&&e.id!==s.parentId),this.elements[o]=this.elements[o].filter(s=>e.id!==s.id&&e.id!==s.parentId)},addPageWithIndex(e){const t=this.document.pages.reduce((s,l)=>Math.max(s,l.pagePosition),0)+1,o=[],a={id:Y(),name:t.toString(),pagePosition:t,elements:o};this.elements[a.name]=o,this.document.pages.splice(e,0,a)}}}),p=A({id:"EditionStore",state:()=>({draggable:!0,rotatable:!1,warpable:!1,scalable:!1,resizable:!0,selectable:!0,snappable:!1,zoomMultiplier:1,actionPanel:{},previewMode:!1,actualPage:"",targets:[],flatPlanMode:!1,spreadMode:!1,notes:[],deletedPage:[],showTrash:!1}),getters:{getActualPage:e=>()=>e.actualPage,getNotes:e=>t=>e.notes.filter(o=>o.pageId===t)},actions:{goToFirstPage(){var t,o;const e=g();this.actualPage=(o=(t=e.document)==null?void 0:t.pages[0])==null?void 0:o.name},goToLastPage(){var t,o;const e=g();this.actualPage=(o=(t=e.document)==null?void 0:t.pages.slice(-1)[0])==null?void 0:o.name},goToPreviousPage(){var o;const e=g(),t=((o=e.document)==null?void 0:o.pages.findIndex(a=>a.name===this.actualPage))-1;t<0||(this.actualPage=e.document.pages[t].name)},goToNextPage(){var o;const e=g(),t=((o=e.document)==null?void 0:o.pages.findIndex(a=>a.name===this.actualPage))+1;t>=e.document.pages.length||(this.actualPage=e.document.pages[t].name)},createNote(e,t,o){const a={id:Date.now()+"",value:"",size:{width:"40mm",height:"20mm",left:e,top:t},pageId:o};this.notes=[...this.notes,a]},changeValueNote(e,t){const o=this.notes.find(a=>a.id==e);o&&(o.value=t)},removeNote(e){this.notes=this.notes.filter(t=>t.id!=e),this.targets=[]}}}),c={list:{},publish(e,t){c.list[e]&&c.list[e].forEach(o=>o(t))},async dispatch(e){c.list[e.eventName]&&c.list[e.eventName].forEach(t=>t(e))},subscribe(e,t){c.list[e]||(c.list[e]=[]),c.list[e].push(t)}};H.addFunction(c.subscribe,"subscribe");const Z={key:0,class:"pageSelectorWrapper"},N=w({__name:"ActiveSelect",setup(e){const t=p(),o=n=>{t.actualPage=n},a=g();M(t.getActualPage,n=>{var d;const r=(d=a.document.pages.find(F=>F.name==n))==null?void 0:d.id;c.publish("PAGE_CHANGE",{pageID:r})});const s=b(()=>{var n,r;return((r=(n=a.document)==null?void 0:n.pages[0])==null?void 0:r.name)==t.actualPage}),l=b(()=>{var n,r;return((r=(n=a.document)==null?void 0:n.pages.slice(-1)[0])==null?void 0:r.name)==t.actualPage});return(n,r)=>i(t).flatPlanMode?R("",!0):(q(),z("div",Z,[u(v,{width:11,height:11,path:i(k),iconColor:"var(--white)",isDisable:s.value,onClick:i(t).goToFirstPage},null,8,["path","iconColor","isDisable","onClick"]),u(v,{width:11,height:11,path:i(j),iconColor:"var(--white)",isDisable:s.value,onClick:i(t).goToPreviousPage},null,8,["path","iconColor","isDisable","onClick"]),u(G,{options:i(a).document.pages.map(d=>d.name),actualValue:i(t).actualPage,onChangeCallback:o},null,8,["options","actualValue"]),u(v,{width:11,height:11,path:i(O),iconColor:"var(--white)",isDisable:l.value,onClick:i(t).goToNextPage},null,8,["path","iconColor","isDisable","onClick"]),u(v,{width:11,height:11,path:i(L),iconColor:"var(--white)",isDisable:l.value,onClick:i(t).goToLastPage},null,8,["path","iconColor","isDisable","onClick"])]))}});const T=U(N,[["__scopeId","data-v-974d799f"]]);N.__docgenInfo={exportName:"default",displayName:"ActiveSelect",description:"",tags:{},sourceFiles:["/home/runner/work/wireframe/wireframe/src/View/TopBar/ActiveSelect/ActiveSelect.vue"]};const me={title:"Components/ActiveSelect",component:T,parameters:{componentSubtitle:"Displays an ActiveSelect "}},B=e=>({components:{ActiveSelect:T},setup(){return{props:e}},template:'<ActiveSelect :property="props.property" :propertyName="props.propertyName" :label="props.label" :unit="props.unit" :float="props.float" :step="props.step" :canReset="props.canReset"/>'}),f=B.bind({});f.args={propertyName:"Size",label:"Size",unit:"mm",float:!1,step:10,canReset:!1};var C,x,D;f.parameters={...f.parameters,docs:{...(C=f.parameters)==null?void 0:C.docs,source:{originalSource:`props => ({
  components: {
    ActiveSelect
  },
  setup() {
    return {
      props
    };
  },
  template: \`<ActiveSelect :property="props.property" :propertyName="props.propertyName" :label="props.label" :unit="props.unit" :float="props.float" :step="props.step" :canReset="props.canReset"/>\`
})`,...(D=(x=f.parameters)==null?void 0:x.docs)==null?void 0:D.source}}};const ue=["Base"];export{f as Base,ue as __namedExportsOrder,me as default};
//# sourceMappingURL=ActiveSelect.stories-6c90458b.js.map
